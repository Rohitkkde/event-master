import{a,j as e,r as t,b as x,B as n}from"./index-BDvtdiPd.js";const h=()=>{const[l,o]=a.useState(""),[u,i]=a.useState(!1),[c,d]=a.useState(""),m=async r=>{r.preventDefault();try{await x.post("/subscribe",{email:l},{withCredentials:!0}).then(s=>{console.log(s.data),n.success("successfully subscribed to eventcrest."),i(!0),o(""),setTimeout(()=>{i(!1)},2e3)}).catch(s=>{d("Please try again later."),console.log(s.message)})}catch(s){console.error("Subscription error:",s),n.warning("Failed to subscribe. Please try again later.")}};return e.jsx("div",{className:"pb-5 p-10 md:pt-10",children:e.jsx("div",{className:"container flex flex-col mx-auto items-center justify-center h-full",children:e.jsxs("div",{className:"relative flex !w-full py-10 mb-5 md:mb-20 container max-w-6xl mx-auto rounded-2xl p-5 bg-[url('/imgs/mike.jpg')] bg-cover bg-center",children:[e.jsx("div",{className:"absolute inset-0 bg-black opacity-30 rounded-2xl"}),e.jsxs("div",{className:"relative  flex flex-col items-center justify-center text-center text-white w-full",children:[e.jsx(t.Typography,{className:"text-2xl md:text-3xl font-bold",color:"white",placeholder:void 0,onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,children:"Join our community!"}),e.jsx(t.Typography,{className:"md:w-7/12 my-3 text-base",color:"white",placeholder:void 0,onPointerEnterCapture:void 0,onPointerLeaveCapture:void 0,children:"Get news in your inbox every week! We hate spam too, so no worries about this."}),e.jsxs("form",{onSubmit:m,className:"mt-8 flex flex-col items-center justify-center gap-4 md:flex-row",children:[e.jsx("div",{className:"w-full md:w-auto",children:e.jsx(t.Input,{label:"Email",color:"white",crossOrigin:void 0,value:l,onChange:r=>o(r.target.value),required:!0})}),e.jsx(t.Button,{size:"md",className:"w-full md:w-auto lg:w-32",fullWidth:!0,color:"white",type:"submit",placeholder:void 0,children:"Subscribe"})]}),c&&e.jsx(t.Typography,{className:"text-red-500",placeholder:void 0,children:c}),u&&e.jsx(t.Typography,{className:"text-green-500",placeholder:void 0,children:"Subscribed successfully!"})]})]})})})};export{h as default};
